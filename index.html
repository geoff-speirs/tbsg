<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>

<body></body>
<p id="test_failures">
</p>
<p id="map" style="white-space: pre;">
  Starting...
</p>

<script>
  const render = (map) => {
    return map.map((lines) => lines.map(tile => "T").join("")).join("\n");
  };
  
  {
    const assertEqual = (expected, result) => {
      if (expected !== result){
        throw new Error(`Expected ${result} to be ${expected}`);
      }
    };
    
    tests = [
      ["renders tiles", 
      [
        ["T", [[1]]],
        ["TT", [[1,2]]],
        ["TT\nTT", [[1,2],[3,4]]]
      ],
      (expected, data) => {
        const result = render(data);
        assertEqual(expected, result);
      }]
    ];
  
    var failures = [];
    tests.forEach(([description, dataList, test]) => dataList.forEach(([expected, data]) => {
        try{
          test(expected, data);
        }
        catch (error) {
          failures.push(`Error in ${description}: ${error.message}`);
        }
      })
    );
    document.getElementById("test_failures").textContent = failures.join("\r\n");
  }
  
  const map = document.getElementById("map");
  map.textContent = render([[1,2],[3,4]]);
  
</script>
</body>

</html>